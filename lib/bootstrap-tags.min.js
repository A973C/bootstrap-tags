(function(){this.JST||(this.JST={});this.JST["templates/tag"]=function(a){a||(a={});var h=[],m=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?p(a):""},l=a.safe,p=a.escape;a.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};p||(p=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){h.push("<div class='tag'>\n  <div class='label ");
h.push(m(this.options.labelClass));h.push("'>\n    ");h.push(m(this.model.name));h.push('\n    <button type="button" class="close bootstrap-tags-label-close" aria-hidden="true">&times;</button>\n  </div>\n</div>\n')}).call(a);a.safe=l;a.escape=p;return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["templates/tagger"]=function(a){a||(a={});var h=[],m=a.safe,l=a.escape;a.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};l||(l=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){h.push("<div class='tagger'><div class='tags'></div></div>\n")}).call(a);a.safe=m;a.escape=l;return h.join("")}}).call(this);
(function(){var a,h,m,l,p,r,s,t,u={}.hasOwnProperty,q=function(a,b){function g(){this.constructor=a}for(var c in b)u.call(b,c)&&(a[c]=b[c]);g.prototype=b.prototype;a.prototype=new g;a.__super__=b.prototype;return a},v=function(a,b){return function(){return a.apply(b,arguments)}};r=function(){function a(){}a.prototype.on=function(a,g,c){var d;null==c&&(c=window);this.callbacks||(this.callbacks={});(d=this.callbacks)[a]||(d[a]=[]);return this.callbacks[a].push({callback:g,context:c})};a.prototype.off=
function(a,g){var c,d,e,f,k,n;this.callbacks||(this.callbacks={});(d=this.callbacks)[a]||(d[a]=[]);e=[];n=this.callbacks[a];d=f=0;for(k=n.length;f<k;d=++f)c=n[d],g===c.callback&&e.unshift(d);k=[];c=0;for(f=e.length;c<f;c++)d=e[c],k.push(this.callbacks[a].splice(d,1));return k};a.prototype.trigger=function(a){var g,c,d,e,f,n;g=Array.prototype.slice.call(arguments,1);this.callbacks||(this.callbacks={});(c=this.callbacks)[a]||(c[a]=[]);f=this.callbacks[a];n=[];d=0;for(e=f.length;d<e;d++)c=f[d],n.push(c.callback.apply(c.context,
g));return n};return a}();window.Events=r;a=function(a){function b(){return t=b.__super__.constructor.apply(this,arguments)}q(b,a);return b}(r);p=l=void 0;l=function(a){function b(a){this.name=a}q(b,a);return b}(a);p=function(){function a(b){this.tags=b||[]}a.prototype.each=function(a){var g,c,d,e,f;e=this.tags;f=[];c=0;for(d=e.length;c<d;c++)g=e[c],f.push(a(g));return f};a.prototype.addTag=function(a){a=new l(a);this.tags.push(a);return a};a.prototype.removeTag=function(a){var g,c;g=[];c=[];this.each(function(d){return d.name===
a?c.push(d):g.push(d)});this.tags=g;return c};return a}();a=function(a){function b(){this.$el=$("<"+this.tagName+" class='"+this.classes+"'></"+this.tagName+">");this.el=this.$el[0]}q(b,a);b.prototype.tagName="div";b.prototype.classes="";b.prototype.$=function(a){return this.$el.find(a)};b.prototype.$template=function(a){return $(this.template(a))};return b}(r);m=h=void 0;h=function(a){function b(a){null==a&&(a={});this.destroy=v(this.destroy,this);b.__super__.constructor.call(this);$.extend(this,
a)}q(b,a);b.prototype.template=JST["templates/tag"];b.prototype.destroy=function(){return this.trigger("destroyed",this)};b.prototype.render=function(a){this.$el.html(this.$template({options:a,model:this.model}));this.$(".close").click(this.destroy);return this};return b}(a);window.Tag=h;m=function(a){function b(a,c){null==c&&(c={});b.__super__.constructor.call(this);this.$el=$(a);this.tagsCollection=new p;this.tagViews=[];$.extend(this.options={},this.defaultOptions,c);this.render()}q(b,a);b.prototype.template=
JST["templates/tagger"];b.prototype.defaultOptions={readOnly:!1,suggestions:[],restrictTo:[],exclude:[],displayPopovers:!1,popoverTrigger:"hover",tagClass:"btn-info",promptText:"Enter tags...",readOnlyEmptyMessage:"No tags to display...",labelClass:"label-default",beforeAddingTag:function(){},afterAddingTag:function(){},beforeDeletingTag:function(){},afterDeletingTag:function(){},excludesTags:function(){return!1},onTagRemoved:function(){}};b.prototype.updateOptions=function(a){null==a&&(a={});$.extend(this.options,
a);return this};b.prototype.addTag=function(a){a=this.tagsCollection.addTag(a);a=new h({model:a});a.on("destroyed",this.removeTagView,this);this.tagViews.push(a);this.renderTag(a);return this};b.prototype.removeTagView=function(a){var c,b,e,f,k;this.$(a.el).remove();k=this.tagViews;c=e=0;for(f=k.length;e<f;c=++e)if(b=k[c],b===a)return this.tagViews.splice(c,1)};b.prototype.removeTag=function(a){var c,b,e,f,k,h,n,m,l;e=this.tagsCollection.removeTag(a);a=[];k=0;for(n=e.length;k<n;k++){b=e[k];l=this.tagViews;
c=h=0;for(m=l.length;h<m;c=++h)f=l[c],f.model===b&&a.unshift(c)}b=0;for(e=a.length;b<e;b++)c=a[b],this.removeTagView(this.tagViews[c]);return this};b.prototype.renderTag=function(a){return this.$(".tags").append(a.render({labelClass:this.options.labelClass}).el)};b.prototype.renderTags=function(){var a,b,d,e;e=this.tagViews;b=0;for(d=e.length;b<d;b++)a=e[b],this.renderTag(a);return this};b.prototype.render=function(){this.$el.html(this.$template(this));this.renderTags();return this};return b}(a);
s=function(){function a(b){this.items=b}var b,g,c,d;d=m.prototype;c=function(b,c){return a.prototype[b]=function(){var a,b,d,e;e=this.items;b=0;for(d=e.length;b<d;b++)a=e[b],c.apply($(a).data("tags"),arguments);return this}};for(b in d)g=d[b],c(b,g);return a}.call(this);(function(a,b,g){return a.fn.tags=function(b){this.each(function(d,e){var f;f=a(e);return null==f.data("tags")?f.data("tags",new m(e,b)):f.data("tags").updateOptions(b)});return new s(this)}})($,window,document)}).call(this);
