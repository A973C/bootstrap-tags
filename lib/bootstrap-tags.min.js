(function(){var b;b=function(){function c(){}c.prototype.on=function(f,d,a){var e;null==a&&(a=window);this.callbacks||(this.callbacks={});(e=this.callbacks)[f]||(e[f]=[]);return this.callbacks[f].push({callback:d,context:a})};c.prototype.off=function(f,d){var a,e,g,c,b,m;this.callbacks||(this.callbacks={});(e=this.callbacks)[f]||(e[f]=[]);g=[];m=this.callbacks[f];e=c=0;for(b=m.length;c<b;e=++c)a=m[e],d===a.callback&&g.unshift(e);b=[];a=0;for(c=g.length;a<c;a++)e=g[a],b.push(this.callbacks[f].splice(e,
1));return b};c.prototype.trigger=function(c){var d,a,e,g,b,l;d=Array.prototype.slice.call(arguments,1);this.callbacks||(this.callbacks={});(a=this.callbacks)[c]||(a[c]=[]);b=this.callbacks[c];l=[];e=0;for(g=b.length;e<g;e++)a=b[e],l.push(a.callback.apply(a.context,d));return l};return c}();window.Events=b}).call(this);
(function(){this.JST||(this.JST={});this.JST["templates/tag"]=function(b){b||(b={});var c=[],f=function(e){return e&&e.ecoSafe?e:"undefined"!==typeof e&&null!=e?a(e):""},d=b.safe,a=b.escape;b.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};a||(a=b.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){c.push("<div class='tag-label ");c.push(f(this.options.labelClass));
c.push("'>\n  <div class='text'>\n    ");c.push(f(this.model.name));c.push('\n  </div>\n  <div class=\'\'>\n    <button type="button" class="close bootstrap-tags-label-close" aria-hidden="true">&times;</button>\n  </div>\n</div>\n')}).call(b);b.safe=d;b.escape=a;return c.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["templates/tagger"]=function(b){b||(b={});var c=[],f=b.safe,d=b.escape;b.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};d||(d=b.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){c.push("<div class='tagger'>\n  <div class='tags'></div>\n  <input type='text' class='form-control tags-input input-sm'>\n</div>\n")}).call(b);
b.safe=f;b.escape=d;return c.join("")}}).call(this);(function(){var b,c,f={}.hasOwnProperty,d=function(a,e){function d(){this.constructor=a}for(var c in e)f.call(e,c)&&(a[c]=e[c]);d.prototype=e.prototype;a.prototype=new d;a.__super__=e.prototype;return a};b=function(a){function e(){return c=e.__super__.constructor.apply(this,arguments)}d(e,a);return e}(Events);window.Tags||(window.Tags={});window.Tags.Models={Base:b}}).call(this);
(function(){var b={}.hasOwnProperty,c=function(c,d){function a(){this.constructor=c}for(var e in d)b.call(d,e)&&(c[e]=d[e]);a.prototype=d.prototype;c.prototype=new a;c.__super__=d.prototype;return c};Tags.Models.Tag=function(b){function d(a){this.name=a}c(d,b);return d}(Tags.Models.Base)}).call(this);
(function(){Tags.Models.TagsCollection=function(){function b(c){this.tags=c||[]}b.prototype.each=function(c){var b,d,a,e,g;e=this.tags;g=[];d=0;for(a=e.length;d<a;d++)b=e[d],g.push(c(b));return g};b.prototype.create=function(c){c=new Tags.Models.Tag(c);this.tags.push(c);return c};b.prototype.remove=function(c){var b,d;b=[];d=[];this.each(function(a){return a.name===c?d.push(a):b.push(a)});this.tags=b;return d};b.prototype.removeModel=function(c){var b,d,a,e,g,k;g=this.tags;k=[];b=a=0;for(e=g.length;a<
e;b=++a)d=g[b],d===c?k.push(this.tags.splice(b,1)):k.push(void 0);return k};b.prototype.getTags=function(){return this.each(function(b){return b.name})};return b}()}).call(this);
(function(){var b,c={}.hasOwnProperty,f=function(b,a){function e(){this.constructor=b}for(var g in a)c.call(a,g)&&(b[g]=a[g]);e.prototype=a.prototype;b.prototype=new e;b.__super__=a.prototype;return b};b=function(b){function a(){this.$el=$("<"+this.tagName+" class='"+this.classes+"'></"+this.tagName+">");this.el=this.$el[0]}f(a,b);a.prototype.tagName="div";a.prototype.classes="";a.prototype.$=function(a){return this.$el.find(a)};a.prototype.$template=function(a){return $(this.template(a))};return a}(Events);
window.Tags||(window.Tags={});window.Tags.Views={Base:b}}).call(this);
(function(){var b=function(b,a){return function(){return b.apply(a,arguments)}},c={}.hasOwnProperty,f=function(b,a){function e(){this.constructor=b}for(var g in a)c.call(a,g)&&(b[g]=a[g]);e.prototype=a.prototype;b.prototype=new e;b.__super__=a.prototype;return b};Tags.Views.Tag=function(c){function a(e){null==e&&(e={});this.destroy=b(this.destroy,this);a.__super__.constructor.call(this);$.extend(this,e)}f(a,c);a.prototype.template=JST["templates/tag"];a.prototype.classes="tag";a.prototype.destroy=
function(){return this.trigger("destroyed",this.model)};a.prototype.render=function(a){this.$el.html(this.$template({options:a,model:this.model}));this.$(".close").click(this.destroy);return this};return a}(Tags.Views.Base);window.Tag=Tags.Views.Tag}).call(this);
(function(){var b=function(b,a){return function(){return b.apply(a,arguments)}},c={}.hasOwnProperty,f=function(b,a){function e(){this.constructor=b}for(var g in a)c.call(a,g)&&(b[g]=a[g]);e.prototype=a.prototype;b.prototype=new e;b.__super__=a.prototype;return b};Tags.Views.Tagger=function(c){function a(e,c){null==c&&(c={});this.keyDownHandler=b(this.keyDownHandler,this);a.__super__.constructor.call(this);this.$el=$(e);this.tagsCollection=new Tags.Models.TagsCollection;this.tagViews=[];$.extend(this.options=
{},this.defaultOptions,c);this.render()}f(a,c);a.prototype.template=JST["templates/tagger"];a.prototype.defaultOptions={readOnly:!1,suggestions:[],restrictTo:[],exclude:[],displayPopovers:!1,popoverTrigger:"hover",tagClass:"btn-info",promptText:"Enter tags...",readOnlyEmptyMessage:"No tags to display...",labelClass:"label-default",beforeAddingTag:function(){},afterAddingTag:function(){},beforeDeletingTag:function(){},afterDeletingTag:function(){},excludesTags:function(){return!1},onTagRemoved:function(){}};
a.prototype.updateOptions=function(a){null==a&&(a={});$.extend(this.options,a);return this};a.prototype.addTag=function(a){a=this.tagsCollection.create(a);a=new Tags.Views.Tag({model:a});a.on("destroyed",this.removeTagByModel,this);this.tagViews.push(a);this.renderTag(a);return this};a.prototype.removeTagByModel=function(a){var b,c,d,f,h,n;c=[];n=this.tagViews;b=f=0;for(h=n.length;f<h;b=++f)d=n[b],d.model===a&&c.unshift(b);d=0;for(f=c.length;d<f;d++)b=c[d],this.removeTagView(this.tagViews[b]);return this.tagsCollection.removeModel(a)};
a.prototype.removeTagView=function(a){var b,c,d,f,h;this.$(a.el).remove();this.updateTextInputPosition();h=this.tagViews;b=d=0;for(f=h.length;d<f;b=++d)if(c=h[b],c===a)return this.tagViews.splice(b,1)};a.prototype.removeTag=function(a){var b,c,d;b=this.tagsCollection.remove(a);c=0;for(d=b.length;c<d;c++)a=b[c],this.removeTagByModel(a);return this};a.prototype.renderTag=function(a){this.$(".tags").append(a.render({labelClass:this.options.labelClass}).el);return this.updateTextInputPosition()};a.prototype.renderTags=
function(){var a,b,c,d;d=this.tagViews;b=0;for(c=d.length;b<c;b++)a=d[b],this.renderTag(a);return this};a.prototype.getTags=function(){return this.tagsCollection.getTags()};a.prototype.updateTextInputPosition=function(){return this.$(".tags-input").css({"padding-left":this.$(".tags").outerWidth()})};a.prototype.keyDownHandler=function(a){switch(null!=a.keyCode?a.keyCode:a.which){case 13:return this.addTag(a.target.value),this.$(".tags-input").val("");case 46:case 8:if(""===a.target.value)return this.removeTagView(this.tagViews[this.tagViews.length-
1])}};a.prototype.setupListeners=function(){return this.$(".tags-input").keydown(this.keyDownHandler)};a.prototype.render=function(){this.$el.html(this.$template(this));this.renderTags();this.setupListeners();return this};return a}(Tags.Views.Base)}).call(this);
(function(){var b;b=function(){function b(a){this.items=a}var f,d,a,e;e=Tags.Views.Tagger.prototype;a=function(a,e){return b.prototype[a]=function(){var a,b,c,d,f;b=[];f=this.items;c=0;for(d=f.length;c<d;c++)a=f[c],b.push(e.apply($(a).data("tags"),arguments));return b[0]instanceof Tags.Views.Tagger?this:1<this.items.length?b:b[0]}};for(f in e)d=e[f],a(f,d);return b}.call(this);(function(c,f,d){return c.fn.tags=function(a){this.each(function(b,d){var f;f=c(d);return null==f.data("tags")?f.data("tags",
new Tags.Views.Tagger(d,a)):f.data("tags").updateOptions(a)});return new b(this)}})($,window,document)}).call(this);
