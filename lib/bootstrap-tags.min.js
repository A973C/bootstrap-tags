(function(){this.JST||(this.JST={});this.JST["templates/tag"]=function(a){a||(a={});var c=[],h=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?k(a):""},f=a.safe,k=a.escape;a.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};k||(k=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){c.push("<div class='tag'>\n  <div class='label ");
c.push(h(this.options.labelClass));c.push("'>\n    ");c.push(h(this.model.name));c.push('\n    <button type="button" class="close bootstrap-tags-label-close" aria-hidden="true">&times;</button>\n  </div>\n</div>\n')}).call(a);a.safe=f;a.escape=k;return c.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["templates/tagger"]=function(a){a||(a={});var c=[],h=a.safe,f=a.escape;a.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){c.push("<div class='tagger'><div class='tags'></div></div>\n")}).call(a);a.safe=h;a.escape=f;return c.join("")}}).call(this);
(function(){var a,c,h,f,k,p,q={}.hasOwnProperty,m=function(a,b){function l(){this.constructor=a}for(var e in b)q.call(b,e)&&(a[e]=b[e]);l.prototype=b.prototype;a.prototype=new l;a.__super__=b.prototype;return a},r=function(a,b){return function(){return a.apply(b,arguments)}};a=function(){return function(){}}();k=f=void 0;f=function(a){function b(a){this.name=a}m(b,a);return b}(a);k=function(){function a(b){this.tags=b||[]}a.prototype.each=function(a){var l,e,d,g,n;g=this.tags;n=[];e=0;for(d=g.length;e<
d;e++)l=g[e],n.push(a(l));return n};a.prototype.addTag=function(a){a=new f(a);this.tags.push(a);return a};a.prototype.removeTag=function(a){var l,e;l=[];e=[];this.each(function(d){return d.name===a?e.push(d):l.push(d)});this.tags=l;return e};return a}();a=function(){function a(){this.$el=$("<"+this.tagName+" class='"+this.classes+"'></"+this.tagName+">");this.el=this.$el[0]}a.prototype.tagName="div";a.prototype.classes="";a.prototype.$=function(a){return this.$el.find(a)};a.prototype.$template=function(a){return $(this.template(a))};
return a}();h=c=void 0;c=function(a){function b(a){null==a&&(a={});this.destroy=r(this.destroy,this);b.__super__.constructor.call(this);$.extend(this,a)}m(b,a);b.prototype.template=JST["templates/tag"];b.prototype.destroy=function(){return this.$el.html("")};b.prototype.render=function(a){this.$el.html(this.$template({options:a,model:this.model}));this.$(".close").click(this.destroy);return this};return b}(a);window.Tag=c;h=function(a){function b(a,e){null==e&&(e={});b.__super__.constructor.call(this);
this.$el=$(a);this.tagsCollection=new k;this.tagViews=[];$.extend(this.options={},this.defaultOptions,e)}m(b,a);b.prototype.template=JST["templates/tagger"];b.prototype.defaultOptions={readOnly:!1,suggestions:[],restrictTo:[],exclude:[],displayPopovers:!1,popoverTrigger:"hover",tagClass:"btn-info",promptText:"Enter tags...",readOnlyEmptyMessage:"No tags to display...",labelClass:"label-default",beforeAddingTag:function(){},afterAddingTag:function(){},beforeDeletingTag:function(){},afterDeletingTag:function(){},
excludesTags:function(){return!1},onTagRemoved:function(){}};b.prototype.updateOptions=function(a){null==a&&(a={});$.extend(this.options,a);return this};b.prototype.addTag=function(a){a=this.tagsCollection.addTag(a);a=new c({model:a});this.tagViews.push(a);this.renderTag(a);return this};b.prototype.removeTag=function(a){var b,d,g,c,h,f,n,k,m;g=this.tagsCollection.removeTag(a);a=[];h=0;for(n=g.length;h<n;h++){d=g[h];m=this.tagViews;b=f=0;for(k=m.length;f<k;b=++f)c=m[b],c.model===d&&(a.unshift(b),c.destroy())}d=
0;for(g=a.length;d<g;d++)b=a[d],this.tagViews.splice(b,1);this.render();return this};b.prototype.renderTag=function(a){console.log(a.model.name);return this.$(".tags").append(a.render({labelClass:this.options.labelClass}).el)};b.prototype.renderTags=function(){var a,b,d,g;console.log("rendering");g=this.tagViews;b=0;for(d=g.length;b<d;b++)a=g[b],this.renderTag(a);return this};b.prototype.render=function(){this.$el.html(this.$template(this));this.renderTags();return this};return b}(a);p=function(){function a(b){this.items=
b}var b,c,e,d;d=h.prototype;e=function(b,e){return a.prototype[b]=function(){var a,b,c,d;d=this.items;b=0;for(c=d.length;b<c;b++)a=d[b],e.apply($(a).data("tags"),arguments);return this}};for(b in d)c=d[b],e(b,c);return a}.call(this);(function(a,b,c){return a.fn.tags=function(b){this.each(function(c,g){var f;f=a(g);return null==f.data("tags")?f.data("tags",new h(g,b)):f.data("tags").updateOptions(b)});return new p(this)}})($,window,document)}).call(this);
