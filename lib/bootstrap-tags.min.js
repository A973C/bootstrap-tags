(function(){this.JST||(this.JST={});this.JST["templates/tag"]=function(a){a||(a={});var h=[],l=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?n(a):""},m=a.safe,n=a.escape;a.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};n||(n=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){h.push("<div class='tag-label ");h.push(l(this.options.labelClass));
h.push("'>\n  <div class='text'>\n    ");h.push(l(this.model.name));h.push('\n  </div>\n  <div class=\'\'>\n    <button type="button" class="close bootstrap-tags-label-close" aria-hidden="true">&times;</button>\n  </div>\n</div>\n')}).call(a);a.safe=m;a.escape=n;return h.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["templates/tagger"]=function(a){a||(a={});var h=[],l=a.safe,m=a.escape;a.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};m||(m=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){h.push("<div class='tagger'>\n  <div class='tags'></div>\n  <input type='text' class='form-control tags-input input-sm'>\n</div>\n")}).call(a);
a.safe=l;a.escape=m;return h.join("")}}).call(this);
(function(){var a,h,l,m,n,r,s,u,v={}.hasOwnProperty,q=function(a,b){function g(){this.constructor=a}for(var d in b)v.call(b,d)&&(a[d]=b[d]);g.prototype=b.prototype;a.prototype=new g;a.__super__=b.prototype;return a},t=function(a,b){return function(){return a.apply(b,arguments)}};r=function(){function a(){}a.prototype.on=function(b,g,a){var c;null==a&&(a=window);this.callbacks||(this.callbacks={});(c=this.callbacks)[b]||(c[b]=[]);return this.callbacks[b].push({callback:g,context:a})};a.prototype.off=
function(b,a){var d,c,e,f,k,p;this.callbacks||(this.callbacks={});(c=this.callbacks)[b]||(c[b]=[]);e=[];p=this.callbacks[b];c=f=0;for(k=p.length;f<k;c=++f)d=p[c],a===d.callback&&e.unshift(c);k=[];d=0;for(f=e.length;d<f;d++)c=e[d],k.push(this.callbacks[b].splice(c,1));return k};a.prototype.trigger=function(b){var a,d,c,e,f,p;a=Array.prototype.slice.call(arguments,1);this.callbacks||(this.callbacks={});(d=this.callbacks)[b]||(d[b]=[]);f=this.callbacks[b];p=[];c=0;for(e=f.length;c<e;c++)d=f[c],p.push(d.callback.apply(d.context,
a));return p};return a}();window.Events=r;a=function(a){function b(){return u=b.__super__.constructor.apply(this,arguments)}q(b,a);return b}(r);n=m=void 0;m=function(a){function b(a){this.name=a}q(b,a);return b}(a);n=function(){function a(b){this.tags=b||[]}a.prototype.each=function(a){var g,d,c,e,f;e=this.tags;f=[];d=0;for(c=e.length;d<c;d++)g=e[d],f.push(a(g));return f};a.prototype.create=function(a){a=new m(a);this.tags.push(a);return a};a.prototype.remove=function(a){var g,d;g=[];d=[];this.each(function(c){return c.name===
a?d.push(c):g.push(c)});this.tags=g;return d};a.prototype.removeModel=function(a){var g,d,c,e,f,k;f=this.tags;k=[];g=c=0;for(e=f.length;c<e;g=++c)d=f[g],d===a?k.push(this.tags.splice(g,1)):k.push(void 0);return k};a.prototype.getTags=function(){return this.each(function(a){return a.name})};return a}();a=function(a){function b(){this.$el=$("<"+this.tagName+" class='"+this.classes+"'></"+this.tagName+">");this.el=this.$el[0]}q(b,a);b.prototype.tagName="div";b.prototype.classes="";b.prototype.$=function(a){return this.$el.find(a)};
b.prototype.$template=function(a){return $(this.template(a))};return b}(r);l=h=void 0;h=function(a){function b(a){null==a&&(a={});this.destroy=t(this.destroy,this);b.__super__.constructor.call(this);$.extend(this,a)}q(b,a);b.prototype.template=JST["templates/tag"];b.prototype.classes="tag";b.prototype.destroy=function(){return this.trigger("destroyed",this.model)};b.prototype.render=function(a){this.$el.html(this.$template({options:a,model:this.model}));this.$(".close").click(this.destroy);return this};
return b}(a);window.Tag=h;l=function(a){function b(a,d){null==d&&(d={});this.keyDownHandler=t(this.keyDownHandler,this);b.__super__.constructor.call(this);this.$el=$(a);this.tagsCollection=new n;this.tagViews=[];$.extend(this.options={},this.defaultOptions,d);this.render()}q(b,a);b.prototype.template=JST["templates/tagger"];b.prototype.defaultOptions={readOnly:!1,suggestions:[],restrictTo:[],exclude:[],displayPopovers:!1,popoverTrigger:"hover",tagClass:"btn-info",promptText:"Enter tags...",readOnlyEmptyMessage:"No tags to display...",
labelClass:"label-default",beforeAddingTag:function(){},afterAddingTag:function(){},beforeDeletingTag:function(){},afterDeletingTag:function(){},excludesTags:function(){return!1},onTagRemoved:function(){}};b.prototype.updateOptions=function(a){null==a&&(a={});$.extend(this.options,a);return this};b.prototype.addTag=function(a){a=this.tagsCollection.create(a);a=new h({model:a});a.on("destroyed",this.removeTagByModel,this);this.tagViews.push(a);this.renderTag(a);return this};b.prototype.removeTagByModel=
function(a){var b,c,e,f,k,h;c=[];h=this.tagViews;b=f=0;for(k=h.length;f<k;b=++f)e=h[b],e.model===a&&c.unshift(b);e=0;for(f=c.length;e<f;e++)b=c[e],this.removeTagView(this.tagViews[b]);return this.tagsCollection.removeModel(a)};b.prototype.removeTagView=function(a){var b,c,e,f,k;this.$(a.el).remove();this.updateTextInputPosition();k=this.tagViews;b=e=0;for(f=k.length;e<f;b=++e)if(c=k[b],c===a)return this.tagViews.splice(b,1)};b.prototype.removeTag=function(a){var b,c,e;b=this.tagsCollection.remove(a);
c=0;for(e=b.length;c<e;c++)a=b[c],this.removeTagByModel(a);return this};b.prototype.renderTag=function(a){this.$(".tags").append(a.render({labelClass:this.options.labelClass}).el);return this.updateTextInputPosition()};b.prototype.renderTags=function(){var a,b,c,e;e=this.tagViews;b=0;for(c=e.length;b<c;b++)a=e[b],this.renderTag(a);return this};b.prototype.getTags=function(){return this.tagsCollection.getTags()};b.prototype.updateTextInputPosition=function(){return this.$(".tags-input").css({"padding-left":this.$(".tags").outerWidth()})};
b.prototype.keyDownHandler=function(a){switch(null!=a.keyCode?a.keyCode:a.which){case 13:return this.addTag(a.target.value),this.$(".tags-input").val("");case 46:case 8:if(""===a.target.value)return this.removeTagView(this.tagViews[this.tagViews.length-1])}};b.prototype.setupListeners=function(){return this.$(".tags-input").keydown(this.keyDownHandler)};b.prototype.render=function(){this.$el.html(this.$template(this));this.renderTags();this.setupListeners();return this};return b}(a);s=function(){function a(b){this.items=
b}var b,g,d,c;c=l.prototype;d=function(b,c){return a.prototype[b]=function(){var a,b,d,e,g;b=[];g=this.items;d=0;for(e=g.length;d<e;d++)a=g[d],b.push(c.apply($(a).data("tags"),arguments));return b[0]instanceof l?this:1<this.items.length?b:b[0]}};for(b in c)g=c[b],d(b,g);return a}.call(this);(function(a,b,g){return a.fn.tags=function(b){this.each(function(c,e){var f;f=a(e);return null==f.data("tags")?f.data("tags",new l(e,b)):f.data("tags").updateOptions(b)});return new s(this)}})($,window,document)}).call(this);
