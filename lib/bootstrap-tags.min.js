(function(){this.JST||(this.JST={});this.JST["templates/tag"]=function(a){a||(a={});var c=[],k=function(a){return a&&a.ecoSafe?a:"undefined"!==typeof a&&null!=a?l(a):""},h=a.safe,l=a.escape;a.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};l||(l=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){c.push("<div class='tag-label ");c.push(k(this.options.labelClass));
c.push("'>\n  <div class='text'>\n    ");c.push(k(this.model.name));c.push('\n  </div>\n  <div class=\'\'>\n    <button type="button" class="close bootstrap-tags-label-close" aria-hidden="true">&times;</button>\n  </div>\n</div>\n')}).call(a);a.safe=h;a.escape=l;return c.join("")}}).call(this);
(function(){this.JST||(this.JST={});this.JST["templates/tagger"]=function(a){a||(a={});var c=[],k=a.safe,h=a.escape;a.safe=function(a){if(a&&a.ecoSafe)return a;"undefined"!==typeof a&&null!=a||(a="");a=new String(a);a.ecoSafe=!0;return a};h||(h=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")});(function(){c.push("<div class='tagger'>\n  <div class='tags'></div>\n  <input type='text' class='form-control tags-input input-sm'>\n</div>\n")}).call(a);
a.safe=k;a.escape=h;return c.join("")}}).call(this);
(function(){var a,c,k,h,l,q,s,u,v={}.hasOwnProperty,n=function(a,b){function m(){this.constructor=a}for(var e in b)v.call(b,e)&&(a[e]=b[e]);m.prototype=b.prototype;a.prototype=new m;a.__super__=b.prototype;return a},t=function(a,b){return function(){return a.apply(b,arguments)}};q=function(){function a(){}a.prototype.on=function(b,a,e){var d;null==e&&(e=window);this.callbacks||(this.callbacks={});(d=this.callbacks)[b]||(d[b]=[]);return this.callbacks[b].push({callback:a,context:e})};a.prototype.off=
function(b,a){var e,d,f,p,g,c;this.callbacks||(this.callbacks={});(d=this.callbacks)[b]||(d[b]=[]);f=[];c=this.callbacks[b];d=p=0;for(g=c.length;p<g;d=++p)e=c[d],a===e.callback&&f.unshift(d);g=[];e=0;for(p=f.length;e<p;e++)d=f[e],g.push(this.callbacks[b].splice(d,1));return g};a.prototype.trigger=function(b){var a,e,d,f,g,c;a=Array.prototype.slice.call(arguments,1);this.callbacks||(this.callbacks={});(e=this.callbacks)[b]||(e[b]=[]);g=this.callbacks[b];c=[];d=0;for(f=g.length;d<f;d++)e=g[d],c.push(e.callback.apply(e.context,
a));return c};return a}();window.Events=q;a=function(a){function b(){return u=b.__super__.constructor.apply(this,arguments)}n(b,a);return b}(q);l=h=void 0;h=function(a){function b(a){this.name=a}n(b,a);return b}(a);l=function(){function a(b){this.tags=b||[]}a.prototype.each=function(a){var m,e,d,f,c;f=this.tags;c=[];e=0;for(d=f.length;e<d;e++)m=f[e],c.push(a(m));return c};a.prototype.addTag=function(a){a=new h(a);this.tags.push(a);return a};a.prototype.removeTag=function(a){var m,e;m=[];e=[];this.each(function(d){return d.name===
a?e.push(d):m.push(d)});this.tags=m;return e};a.prototype.getTags=function(){return this.each(function(a){return a.name})};return a}();a=function(a){function b(){this.$el=$("<"+this.tagName+" class='"+this.classes+"'></"+this.tagName+">");this.el=this.$el[0]}n(b,a);b.prototype.tagName="div";b.prototype.classes="";b.prototype.$=function(a){return this.$el.find(a)};b.prototype.$template=function(a){return $(this.template(a))};return b}(q);k=c=void 0;c=function(a){function b(a){null==a&&(a={});this.destroy=
t(this.destroy,this);b.__super__.constructor.call(this);$.extend(this,a)}n(b,a);b.prototype.template=JST["templates/tag"];b.prototype.classes="tag";b.prototype.destroy=function(){return this.trigger("destroyed",this)};b.prototype.render=function(a){this.$el.html(this.$template({options:a,model:this.model}));this.$(".close").click(this.destroy);return this};return b}(a);window.Tag=c;k=function(a){function b(a,e){null==e&&(e={});this.keyDownHandler=t(this.keyDownHandler,this);b.__super__.constructor.call(this);
this.$el=$(a);this.tagsCollection=new l;this.tagViews=[];$.extend(this.options={},this.defaultOptions,e);this.render()}n(b,a);b.prototype.template=JST["templates/tagger"];b.prototype.defaultOptions={readOnly:!1,suggestions:[],restrictTo:[],exclude:[],displayPopovers:!1,popoverTrigger:"hover",tagClass:"btn-info",promptText:"Enter tags...",readOnlyEmptyMessage:"No tags to display...",labelClass:"label-default",beforeAddingTag:function(){},afterAddingTag:function(){},beforeDeletingTag:function(){},afterDeletingTag:function(){},
excludesTags:function(){return!1},onTagRemoved:function(){}};b.prototype.updateOptions=function(a){null==a&&(a={});$.extend(this.options,a);return this};b.prototype.addTag=function(a){a=this.tagsCollection.addTag(a);a=new c({model:a});a.on("destroyed",this.removeTagView,this);this.tagViews.push(a);this.renderTag(a);return this};b.prototype.removeTagView=function(a){var b,d,f,c,g;this.$(a.el).remove();this.updateTextInputPosition();g=this.tagViews;b=f=0;for(c=g.length;f<c;b=++f)if(d=g[b],d===a)return this.tagViews.splice(b,
1)};b.prototype.removeTag=function(a){var b,d,f,c,g,k,h,l,r;f=this.tagsCollection.removeTag(a);a=[];g=0;for(h=f.length;g<h;g++){d=f[g];r=this.tagViews;b=k=0;for(l=r.length;k<l;b=++k)c=r[b],c.model===d&&a.unshift(b)}d=0;for(f=a.length;d<f;d++)b=a[d],this.removeTagView(this.tagViews[b]);return this};b.prototype.renderTag=function(a){this.$(".tags").append(a.render({labelClass:this.options.labelClass}).el);return this.updateTextInputPosition()};b.prototype.renderTags=function(){var a,b,d,c;c=this.tagViews;
b=0;for(d=c.length;b<d;b++)a=c[b],this.renderTag(a);return this};b.prototype.getTags=function(){return this.tagsCollection.getTags()};b.prototype.updateTextInputPosition=function(){return this.$(".tags-input").css({"padding-left":this.$(".tags").outerWidth()})};b.prototype.keyDownHandler=function(a){switch(null!=a.keyCode?a.keyCode:a.which){case 13:return this.addTag(a.target.value),this.$(".tags-input").val("");case 46:case 8:if(""===a.target.value)return this.removeTagView(this.tagViews[this.tagViews.length-
1])}};b.prototype.setupListeners=function(){return this.$(".tags-input").keydown(this.keyDownHandler)};b.prototype.render=function(){this.$el.html(this.$template(this));this.renderTags();this.setupListeners();return this};return b}(a);s=function(){function a(b){this.items=b}var b,c,e,d;d=k.prototype;e=function(b,d){return a.prototype[b]=function(){var a,b,c,e,f;b=[];f=this.items;c=0;for(e=f.length;c<e;c++)a=f[c],b.push(d.apply($(a).data("tags"),arguments));return b[0]instanceof k?this:1<this.items.length?
b:b[0]}};for(b in d)c=d[b],e(b,c);return a}.call(this);(function(a,b,c){return a.fn.tags=function(b){this.each(function(c,f){var h;h=a(f);return null==h.data("tags")?h.data("tags",new k(f,b)):h.data("tags").updateOptions(b)});return new s(this)}})($,window,document)}).call(this);
